import{j as s}from"./jsx-runtime.K1e75nIr.js";/* empty css                       */import{f as i}from"./time.DtebfkEO.js";import{g as t}from"./color.Cly4xzeD.js";import"./index.NEDEFKed.js";const m=({cardData:e,userId:o})=>{let l=e.buddies.map(d=>d.id).includes(o);const n=t(e.course);return s.jsxs("div",{className:"card px-2 shadow-sm py-0 py-sm-2",style:{border:"0.1em solid "+n,borderLeft:"1em solid "+n},children:[s.jsx(r,{cardData:e}),s.jsxs("div",{className:"card-body row px-3 py-2 gap-3",children:[s.jsxs("div",{className:"col align-items-center py-md-0 py-2",children:[s.jsx("h6",{className:"col fw-bold py-0 py-0 mb-1",children:s.jsxs("span",{children:[e.course," ",e.course_title,e.name!=""?" - "+e.name:""]})}),s.jsxs("div",{className:"row col-sm m-0 gap-1 pt-0",children:[s.jsxs("h6",{className:"small col-lg-auto col-auto my-auto  bg-body-secondary align-content-center px-3 py-1 rounded-1 border",children:["Ends ",i(new Date(e.end)).toString()]}),s.jsx("h6",{className:" col-auto my-auto small text-secondary h-100 align-content-center ",children:e.location})]})]}),s.jsx("div",{className:"col-12 col-md-auto my-auto my-auto  align-items-center px-4",children:s.jsxs("div",{className:"row gap-1",children:[l?s.jsx(a,{cardData:e}):s.jsx(c,{cardData:e}),s.jsx("button",{className:"btn btn-sm p-2 px-3 shadow-sm text-primary border border-light     fw-medium col","data-bs-toggle":"modal","data-bs-target":"#modal-"+e.id,children:"More Details"})]})})]})]})},r=({cardData:e})=>s.jsx("div",{className:"modal fade",id:"modal-"+e.id,tabIndex:-1,"aria-labelledby":"modal-label-"+e.id,"aria-hidden":"true",children:s.jsx("div",{className:"modal-dialog",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("h1",{className:"modal-title fs-5",id:"modal-label-"+e.id,children:[e.course+" - "+e.course_title," "]}),s.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),s.jsxs("div",{className:"modal-body",children:[e.name!=""&&s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",e.name]}),e.description!=""&&s.jsxs("p",{children:[s.jsx("strong",{children:"Description:"}),s.jsx("br",{}),e.description]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Location:"})," ",e.location]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Start:"})," ",new Date(e.start).toLocaleString()]}),s.jsxs("p",{children:[s.jsx("strong",{children:"End:"})," ",new Date(e.end).toLocaleString()]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Group Size:"})," ",e.max_buddies<1?"unlimited":e.max_buddies]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Group:"})," ",e.buddies.map(o=>o.name).join(", ")]})]})]})})}),c=({cardData:e})=>s.jsxs("button",{onClick:()=>p(e.id),className:"btn-sm btn small btn-outline-primary ms-0 p-2 py-2 px-3 mx-2 fw-medium  col-12 col-sm btn-width shadow-sm",children:["Join This Group ("+e.buddies.length,"/",(e.max_buddies<1?"∞":e.max_buddies)+")"]}),a=({cardData:e})=>s.jsxs("button",{onClick:()=>x(e.id),className:"btn-sm btn small btn-outline-danger ms-0 p-2 py-2 px-3 mx-2 fw-medium  col-12 col-sm  btn-width ",children:["Leave This Group ("+e.buddies.length,"/",(e.max_buddies<1?"∞":e.max_buddies)+")"]}),x=e=>fetch("/api/leave",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({group:e})}).then(o=>{o.ok&&window.location.reload()}),p=e=>fetch("/api/join",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({group:e})}).then(o=>{o.ok&&window.location.reload()}),v=({studyGroups:e,userId:o})=>s.jsx("div",{className:"row gap-3 py-4 my-4 px-0 px-md-0 px-md-5 m-0 mx-lg-0 mx-md-5",children:e.length==0?s.jsx(h,{}):e.map((l,n)=>s.jsxs("div",{children:[s.jsx(b,{sameHourGroups:l}),s.jsx(j,{userId:o,sameHourGroups:l})]},n))}),h=()=>s.jsx("div",{className:"col-auto text-center w-100 mx-auto card p-5 text-center ",style:{maxWidth:400},children:s.jsxs("div",{className:"card-body",children:[s.jsx("p",{children:"No Sessions Found"}),s.jsx("button",{className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#modal-book",children:"Book one now!"})]})}),b=({sameHourGroups:e})=>s.jsx("h6",{className:"small w-100 border-1 border-bottom border-dark-subtle pb-2 mt-0 mb-4",children:i(new Date(Number(e[0])*1e3)).toString()}),j=({userId:e,sameHourGroups:o})=>s.jsx("div",{className:"small px-3 ps-sm-3 ps-lg-4 ms-sm-3 ms-lg-4 row gap-3",children:o[1].map((l,n)=>s.jsx(m,{cardData:l,userId:e},n))});export{v as default};
